import{a as k}from"./chunk-P7TYM3MS.js";import{$ as s,A as P,D as x,E as _,L as u,P as a,Q as v,U as w,W as M,X as m,_ as o,a as g,aa as h,b as f,ba as b,ca as C,da as l,e as O,ga as p,ia as y,ja as S,s as d,xa as V}from"./chunk-4734YUGO.js";function I(n,i){if(n&1){let r=b();o(0,"div",6)(1,"div",7),C("click",function(){x(r);let e=l();return _(e.firstCatMash())}),h(2,"img",8),s()()}if(n&2){let r=l();a(2),w("src",r.firstCat.url,u)}}function T(n,i){if(n&1){let r=b();o(0,"div",9)(1,"div",7),C("click",function(){x(r);let e=l();return _(e.secondCatMash())}),h(2,"img",8),s()()}if(n&2){let r=l();a(2),w("src",r.secondCat.url,u)}}function R(n,i){n&1&&p(0,"s")}var D=(()=>{let i=class i{constructor(t,e){this.router=t,this.catsService=e,this.voteScore=5,this.firstCat={},this.secondCat={},this.destroy$=new O}ngOnInit(){this.catsService.getCats().pipe(d(this.destroy$)).subscribe({next:t=>{this.cats=t,this.getRandomCats()}})}firstCatMash(){let t=f(g({},this.firstCat),{score:this.firstCat.score+1});this.catsService.putCat(t,this.firstCat.id).pipe(d(this.destroy$)).subscribe({next:()=>{this.getRandomCats()},error:()=>alert("Error while updating the score !!")})}secondCatMash(){let t=f(g({},this.secondCat),{score:this.secondCat.score+1});this.catsService.putCat(t,this.secondCat.id).pipe(d(this.destroy$)).subscribe({next:()=>{this.getRandomCats()},error:e=>alert("Error while updating the score !!")})}getRandomCats(){let t=this.getRandomIntInclusive(),e;do e=this.getRandomIntInclusive();while(t==e);this.firstCat=this.cats[t],this.secondCat=this.cats[e]}getRandomIntInclusive(){let t=Math.ceil(0),e=Math.floor(99);return Math.floor(Math.random()*(e-t+1))+t}goToHome(){this.router.navigateByUrl("/")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};i.\u0275fac=function(e){return new(e||i)(v(V),v(k))},i.\u0275cmp=P({type:i,selectors:[["app-vote-cats"]],standalone:!0,features:[S],decls:12,vars:4,consts:[[1,"ensign-wraper"],["src","./assets/cat-matsh.png","alt","ensign company"],[1,"mash-wraper"],["class","left-wraper"],["class","right-wraper"],[1,"btn-go-home",3,"click"],[1,"left-wraper"],[1,"cat-mash",3,"click"],["alt","",3,"src"],[1,"right-wraper"]],template:function(e,c){e&1&&(o(0,"div",0),h(1,"img",1),o(2,"h1"),p(3,"Cat mash"),s()(),o(4,"div",2),M(5,I,3,1,"div",3)(6,T,3,1,"div",4),s(),o(7,"button",5),C("click",function(){return c.goToHome()}),p(8," Voir les plus beaux chats "),o(9,"span"),p(10),M(11,R,1,0),s()()),e&2&&(a(5),m(5,c.firstCat?5:-1),a(1),m(6,c.secondCat?6:-1),a(4),y("",c.voteScore," vote"),a(1),m(11,c.voteScore>1?11:-1))},styles:[".ensign-wraper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;text-align:center;z-index:2}.ensign-wraper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:5px}.ensign-wraper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-transform:uppercase;font-size:36px}.mash-wraper[_ngcontent-%COMP%]{display:flex;height:100%}.mash-wraper[_ngcontent-%COMP%]   .cat-mash[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 150px);overflow:hidden;border:5px solid #fff;border-radius:107px 97px 13px 99px;transform:rotate(45deg);cursor:pointer}.mash-wraper[_ngcontent-%COMP%]   .cat-mash[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:240px;min-width:240px;max-height:240px;min-height:240px;margin:-13px -42px -33px -5px;transform:rotate(-45deg)}.mash-wraper[_ngcontent-%COMP%]   .left-wraper[_ngcontent-%COMP%]{position:relative;flex:1;background:#ecf0f3}.mash-wraper[_ngcontent-%COMP%]   .left-wraper[_ngcontent-%COMP%]   .cat-mash[_ngcontent-%COMP%]{right:100px}.mash-wraper[_ngcontent-%COMP%]   .right-wraper[_ngcontent-%COMP%]{position:relative;flex:1;background:#f7f7f7}.mash-wraper[_ngcontent-%COMP%]   .right-wraper[_ngcontent-%COMP%]   .cat-mash[_ngcontent-%COMP%]{left:100px}.btn-go-home[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:fixed;bottom:0;left:calc(50% - 170px);z-index:2;width:340px;height:56px;border:3px solid #eee;border-bottom:none;border-radius:10px 10px 0 0;background:#f7f7f7;font-size:19px;color:#5b6064;cursor:pointer}.btn-go-home[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"]});let n=i;return n})();export{D as VoteCatsComponent};
